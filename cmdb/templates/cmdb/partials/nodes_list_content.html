<div id="nodes-content" 
     class="bg-white shadow rounded-lg overflow-hidden"
     hx-get="{% url 'cmdb:nodes_list' label %}"
     hx-trigger="refresh from:body"
     hx-swap="innerHTML">
    {% include "cmdb/partials/nodes_table.html" %}
</div>

<script>
document.body.addEventListener('nodeCreated', function(evt) {
    // Close modal on success
    document.getElementById('create-modal').close();
    // Refresh table
    htmx.trigger('#nodes-content', 'refresh');
});
document.body.addEventListener('nodeUpdated', function() {
    htmx.trigger('#nodes-content', 'refresh');
});
document.body.addEventListener('nodeDeleted', function() {
    htmx.trigger('#nodes-content', 'refresh');
});
</script>

<!-- Edit Modal -->
<dialog id="edit-modal" 
    class="p-6 rounded-lg shadow-xl max-w-lg w-full backdrop:bg-black backdrop:bg-opacity-50 bg-white dark:bg-gray-800 dark:text-white">
    <div id="edit-modal-content"></div>
</dialog>
